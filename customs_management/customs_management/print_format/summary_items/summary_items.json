{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-02-09 02:34:50.355280",
 "css": ".tariff{\n    margin-top:20px;\n}\n.sep-head{\n    background:#5eff47a3;\n    font-size: 0.8rem;\n}\n\n.table-hd{\n    font-weight:bold !important; \n}\n\n.print-format .table-bordered td, .print-format .table-bordered th {\n  border: 1px solid #f9a7a7;\n}\n.tail-total{\n    font-style:italic;\n}\n.cus-tot{\n    text-decoration:underline;\n    font-weight:bold;\n    font-style:italic;\n}\n.u-b-heading{\n    font-weight:bold;\n    text-decoration:underline;\n}\n.und-lin{\n    text-decoration:underline;\n}\n.marg{\n    margin-top:20px;\n}\ntd{\n    font-size: 0.7rem;\n}",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 0,
 "doc_type": "Costing",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "\n{% set receipts = my_function(doc.name,doc.customs_entry) %}\n{% set tariff_count1 = namespace(value=my_function(doc.name,doc.customs_entry,True)) %}\n{% set tariff_count = namespace(value=1) %}\n{% for receipt in receipts %}\n    <!--<div>receipt--{{receipt}}</div>-->\n    {% for purchase in receipt %}\n        {% set data = receipt.get(purchase) %}\n        {% set tariff_det=data.get('data') %}\n        {% set tariff_keys=data.get('tariff_keys') %}\n        <div class=\"group1 marg\">\n        {{purchase}}\n            <div><span class=\"und-lin\">Supplier Name: </span>{{data.get(\"supplier_name\")}}</div>\n            <div><span class=\"und-lin\">Supplier Country: </span>{{data.get(\"supplier_country\")}}</div>\n            <div><span class=\"und-lin\">Invoice Number:</span> {{data.get(\"invoice_number\")}}</div>\n            <div><span class=\"und-lin\">Purchase Order Number:</span></div>\n            {% set add_chr= additional_charges(doc.customs_entry,False) %}\n            {% set add_chr_frn= additional_charges(doc.customs_entry) %}\n            <div class=\"tariff\"><span class=\"u-b-heading\">Invoice Total: </span>{{data.get(\"cur_pur\")}} {{data.get(\"frn_curr_sym\")}}{{data.get(\"cur_frn\")|round(2)}} / XCD ${{data.get(\"cur_cmp\")|round(2)}} ---<span class=\"u-b-heading\">Insurance & Freight Cost:</span> {{additional_curr(doc.customs_entry)}} {{data.get(\"frn_curr_sym\")}} {{(add_chr_frn/(receipts|length))|round(2)}} / XCD ${{(add_chr/(receipts|length))|round(2)}}</div>\n            <div><span class=\"u-b-heading\">Invoice Grand Total:</span>{{data.get(\"cur_pur\")}} {{data.get(\"frn_curr_sym\")}}{{(data.get(\"cur_frn\")+(add_chr_frn/(receipts|length)))|round(2)}} / \n            {% if data.get(\"cur_frn\") == data.get(\"cur_cmp\") %}\n                {{data.get(\"cur_pur\")}} {{data.get(\"frn_curr_sym\")}}{{(data.get(\"cur_frn\")+(add_chr_frn/(receipts|length)))|round(2)}}\n                \n            {% else %}\n                XCD ${{(data.get(\"cur_cmp\")\n                +(add_chr/(receipts|length)))|round(2)}}\n            {% endif %}\n            </div>\n            <div><span class=\"u-b-heading\">Total Number Of Items:</span> {{data.get(\"no_of_itm\")}} --- <span class=\"u-b-heading\">No. Invoice Lines:</span> {{receipts|length}}</div>\n        </div>\n        <table class=\"table table-bordered\">\n        \t<tbody>\n        \t\t<tr>\n        \t\t\t<th class=\"table-hd\">Line No</th>\n        \t\t\t<th class=\"table-hd\">Item No</th>\n        \t\t\t<th class=\"table-hd\">Description</th>\n        \t\t\t<th class=\"table-hd\">Tariff Code</th>\n        \t\t\t<th class=\"table-hd\">Qty</th>\n        \t\t\t<th class=\"table-hd\" style=\"width: 10%;\">FOB/CIF Price(Unit)</th>\n        \t\t\t<th class=\"table-hd\">Misc (charges) <span style=\"font-style:italic;\">{{data.get(\"cur_pur\")}}</span></th>\n        \t\t\t<th class=\"table-hd\" style=\"width: 10%;\">FOB/CIF Price(Total)</th>\n        \t\t</tr>\n        \t\t\n        \t   \n        \t   {% set count = namespace(value=1) %}\n               {% set amount = namespace(value=0) %}\n               {% set amount_c = namespace(value=0) %}\n               {% set t_qty = namespace(value=0) %}\n               {% set mass = frappe.db.get_value('Customs Entry',doc.customs_entry, ['mass_kg']) %}\n               {% if mass %}\n                {% set mass_split = mass/tariff_count1.value %}\n                {% else %}\n                {% set mass_split = 0 %}\n               {% endif %}\n               {% set add_chr= additional_charges(doc.customs_entry) %}\n               \n               {%- for tariff in tariff_keys -%} \n                   {% set tariff_data = frappe.db.get_value('Customs Tariff Number',tariff, ['description','custom_duty_percentage','custom_surcharge_percentage','custom_service_charge_percentage','custom_excise_percentage','custom_vat_percentage']) %}\n                   {% set curr =namespace(value=\"\") %}\n                   {% set amount.value = 0 %}\n                   {% set amount_c.value = 0 %}\n                   {% set t_qty.value = 0 %}\n                    <tr>\n                        <td class=\"sep-head\" colspan=8>Asycuda No: {{tariff_count.value}} --- Code : {{tariff}}{{tariff_data[1],tariff_data[2],tariff_data[3],tariff_data[4],tariff_data[5]}} --- {{tariff_data[0]}} --- Duty: {{tariff_data[1]}}%</td>\n                    </tr>\n                    {%- for items in tariff_det.get(tariff) -%}\n                        {% set curr.value = items.ref_document_currency %}\n                \t\t<tr>\n                \t\t\t<td >{{count.value}}</td>\n                \t\t\t<td >{{items.item}}</td>\n                \t\t\t<td >{{items.description}}</td>\n                \t\t\t<td >{{items.customs_tariff_number}}</td>\n                \t\t\t<td >{{items.qty}}</td>\n                \t\t\t<td >{{items.base_rate}}</td>\n                \t\t\t<td >{{items.misc_charge}}</td>\n                \t\t\t<td >{{items.base_amount}}</td>\n                        </tr>\n                        {% set count.value = count.value + 1 %}\n                        {% set t_qty.value = t_qty.value + items.qty %}\n                        {% set amount.value = amount.value + items.base_amount %}\n                        {% set amount_c.value = amount_c.value + items.amount %}\n                    {% endfor %}\n                    {% set curr_sym= frappe.db.get_value('Currency',curr.value, ['symbol']) %}\n                    <tr>\n                        <td class=\"sep-tail\" colspan=8>\n                            <div class=\"tail-total\">Total + Freight and Insurance = {{curr.value}} {{curr_sym}}{{amount.value|round(2)}} + {{curr_sym}}{{(add_chr/tariff_count1.value)|round(2)}} = {{curr.value}} {{curr_sym}}{{(amount.value+(add_chr/tariff_count1.value))|round(2)}}</div>\n                            {% set curr_sym_base= frappe.db.get_value('Currency','XCD', ['symbol']) %}\n                            <div class=\"tail-total\"><span class=\"cus-tot\">Customs Total</span>: XCD {{curr_sym_base}}{{amount_c.value|round(2)}} --- Qty of Items: {{t_qty.value}} --- Mass: {{mass_split|round(2)}} Kg </div>\n                        </td>\n                    </tr>\n                    {% set tariff_count.value = tariff_count.value + 1 %}\n                {% endfor %}\n        \t</tbody>\n        </table>\n        <h3 class='u-b-heading'>Tax Information<span style=\"font-style:italic;\">(XCD)</span></h3>\n        {% set tax_inf = get_tax_info(doc.name,purchase,data.get('doctype')) %}\n        <table class=\"table table-bordered\">\n        \t<tbody>\n        \t\t<tr>\n        \t\t\t<th class=\"table-hd\">Tax Code</th>\n        \t\t\t<th class=\"table-hd\">Tax Description</th>\n        \t\t\t<th class=\"table-hd\">Tax Value</th>\n        \t\t</tr>\n                {%- for items in tax_inf -%}\n            \t\t<tr>\n            \t\t\t<td >{{items.get('abbr')}}</td>\n                        <td >{{items.get('desc')}}</td>\n                        <td >{{items.get('val')|round(2)}}</td>\n                    </tr>\n                {% endfor %}\t\n            </tbody>\n        </table>\n        <div class=\"page-break\"></div>\n    {% endfor %}\n{% endfor %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-03 07:50:04.143118",
 "modified_by": "Administrator",
 "module": "Customs Management",
 "name": "Summary Items",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}